import{_ as i,o as e,c as t,ae as a}from"./chunks/framework.Dn7Y7LSn.js";const E=JSON.parse('{"title":"Routes","description":"","frontmatter":{},"headers":[],"relativePath":"guide/routes.md","filePath":"guide/routes.md"}'),n={name:"guide/routes.md"};function r(h,s,o,p,l,d){return e(),t("div",null,[...s[0]||(s[0]=[a(`<h1 id="routes" tabindex="-1">Routes <a class="header-anchor" href="#routes" aria-label="Permalink to &quot;Routes&quot;">​</a></h1><h2 id="define-routes" tabindex="-1">Define routes <a class="header-anchor" href="#define-routes" aria-label="Permalink to &quot;Define routes&quot;">​</a></h2><p>Import the types from the framework and define your route list:</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// src/routes.ts (or src/application/routes.ts)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  registerRoutes,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> RouteConfig,</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ComponentWithGetServerData,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;lovable-ssr&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HomePage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/pages/HomePage&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> VideoPage </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/pages/VideoPage&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> NotFound </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@/pages/NotFound&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { RouteConfig, ComponentWithGetServerData };</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RouteConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Component: HomePage, isSSR: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/video/:id&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Component: VideoPage, isSSR: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/signup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Component: SignupPage, isSSR: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  { path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;*&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Component: NotFound, isSSR: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">];</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">registerRoutes</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(routes);</span></span></code></pre></div><h2 id="routeconfig" tabindex="-1">RouteConfig <a class="header-anchor" href="#routeconfig" aria-label="Permalink to &quot;RouteConfig&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>path</code></td><td><code>string</code></td><td>Path pattern (e.g. <code>/</code>, <code>/video/:id</code>, <code>*</code>)</td></tr><tr><td><code>Component</code></td><td><code>React.ComponentType</code></td><td>Page component (may have <code>getServerData</code>)</td></tr><tr><td><code>isSSR</code></td><td><code>boolean</code></td><td>If <code>true</code>, the server will run SSR for this path</td></tr></tbody></table><h2 id="register-once" tabindex="-1">Register once <a class="header-anchor" href="#register-once" aria-label="Permalink to &quot;Register once&quot;">​</a></h2><p>You must call <code>registerRoutes(routes)</code> before any use of the router or <code>AppRoutes</code>:</p><ul><li><strong>Client</strong>: import your routes module in <code>App.tsx</code> (or <code>main.tsx</code>) so it runs on load.</li><li><strong>SSR entry</strong>: the entry-server typically imports the routes module and calls <code>registerRoutes(routes)</code> before calling the framework’s <code>render</code>.</li><li><strong>SSR server</strong>: <strong>import the routes module in your <code>server.ts</code> before <code>createServer()</code></strong> (e.g. <code>import &#39;../application/routes&#39;</code>). The server calls <code>RouterService.isSsrRoute(pathname)</code> on each request; that reads from the registry. If the registry is still empty (because the entry is only loaded when doing SSR), every request is treated as SPA and the entry never runs. Importing the routes in <code>server.ts</code> ensures the registry is filled at startup.</li></ul><p>The framework uses this registry for <code>RouterService.matchRoute</code>, <code>RouterService.isSsrRoute</code>, and for <code>AppRoutes</code> to render the list of routes.</p>`,10)])])}const c=i(n,[["render",r]]);export{E as __pageData,c as default};
