import{_ as t,o as r,c as o,ae as d}from"./chunks/framework.Dn7Y7LSn.js";const p=JSON.parse('{"title":"API reference","description":"","frontmatter":{},"headers":[],"relativePath":"guide/api.md","filePath":"guide/api.md"}'),a={name:"guide/api.md"};function c(i,e,n,s,h,l){return r(),o("div",null,[...e[0]||(e[0]=[d('<h1 id="api-reference" tabindex="-1">API reference <a class="header-anchor" href="#api-reference" aria-label="Permalink to &quot;API reference&quot;">​</a></h1><h2 id="types" tabindex="-1">Types <a class="header-anchor" href="#types" aria-label="Permalink to &quot;Types&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>RouteConfig</code></td><td><code>{ path: string; Component: ComponentWithGetData; isSSR: boolean }</code></td></tr><tr><td><code>ComponentWithGetData</code></td><td>React component type with optional <code>getData?: (params?: { routeParams: Record&lt;string, string&gt;; searchParams: Record&lt;string, string&gt;; request?: unknown }) =&gt; Promise&lt;Record&lt;string, unknown&gt;&gt;</code></td></tr><tr><td><code>RouteDataState</code></td><td><code>Record&lt;string, Record&lt;string, unknown&gt;&gt;</code> (routeKey → data)</td></tr><tr><td><code>InitialRouteShape</code></td><td><code>{ path: string }</code> (minimal shape for initial route)</td></tr></tbody></table><h2 id="registry" tabindex="-1">Registry <a class="header-anchor" href="#registry" aria-label="Permalink to &quot;Registry&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Function</th><th>Description</th></tr></thead><tbody><tr><td><code>registerRoutes(routes: RouteConfig[])</code></td><td>Set the route list (call once on client and in entry-server).</td></tr><tr><td><code>getRoutes(): RouteConfig[]</code></td><td>Read the current route list (used internally).</td></tr></tbody></table><h2 id="router-routerservice" tabindex="-1">Router (RouterService) <a class="header-anchor" href="#router-routerservice" aria-label="Permalink to &quot;Router (RouterService)&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Method</th><th>Description</th></tr></thead><tbody><tr><td><code>RouterService.matchRoute(pathname: string)</code></td><td>Returns the <code>RouteConfig</code> that matches the pathname.</td></tr><tr><td><code>RouterService.routeParams(routePath: string, pathname?: string)</code></td><td>Returns <code>{ routeParams, searchParams }</code>; path segments (e.g. <code>/video/:id</code> + <code>/video/123</code> → <code>routeParams: { id: &#39;123&#39; }</code>).</td></tr><tr><td><code>RouterService.searchParams(urlOrSearch: string)</code></td><td>Parses query string into <code>Record&lt;string, string&gt;</code>.</td></tr><tr><td><code>RouterService.isSsrRoute(pathname: string)</code></td><td>Returns whether the pathname matches a route with <code>isSSR: true</code>.</td></tr><tr><td><code>RouterService.matchPath(pathPattern: string, pathname: string)</code></td><td>Low-level path match.</td></tr></tbody></table><h2 id="route-data-context" tabindex="-1">Route data context <a class="header-anchor" href="#route-data-context" aria-label="Permalink to &quot;Route data context&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Export</th><th>Description</th></tr></thead><tbody><tr><td><code>RouteDataProvider</code></td><td>Provider with <code>initialData</code>, <code>initialRoute</code>, <code>initialParams</code>.</td></tr><tr><td><code>useRouteData()</code></td><td>Returns <code>{ data: RouteDataState; setData(routeKey, value) }</code>.</td></tr><tr><td><code>buildRouteKey(path, routeParams, searchParams?)</code></td><td>Builds a stable key for path + route params + optional search params (so the same path with different query strings gets different keys).</td></tr></tbody></table><h2 id="ui-components" tabindex="-1">UI components <a class="header-anchor" href="#ui-components" aria-label="Permalink to &quot;UI components&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Component</th><th>Description</th></tr></thead><tbody><tr><td><code>AppRoutes</code></td><td>Renders <code>&lt;Routes&gt;</code> from the registry; uses context for page data. Use inside <code>RouteDataProvider</code> (or <code>BrowserRouteDataProvider</code>).</td></tr><tr><td><code>BrowserRouteDataProvider</code></td><td>Reads <code>window.__PRELOADED_DATA__</code> and pathname, wraps children in <code>RouteDataProvider</code>. Use inside <code>BrowserRouter</code>.</td></tr></tbody></table><h2 id="ssr-main-package" tabindex="-1">SSR (main package) <a class="header-anchor" href="#ssr-main-package" aria-label="Permalink to &quot;SSR (main package)&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Export</th><th>Description</th></tr></thead><tbody><tr><td><code>render(url: string, options?: RenderOptions)</code></td><td>Returns <code>Promise&lt;{ html: string; preloadedData }&gt;</code>. <code>options.wrap</code> can wrap the inner tree (e.g. QueryClient, Toaster). <code>options.requestContext</code> is forwarded to <code>getData</code> via <code>params.request</code>.</td></tr></tbody></table><h2 id="server-lovable-ssr-server" tabindex="-1">Server (lovable-ssr/server) <a class="header-anchor" href="#server-lovable-ssr-server" aria-label="Permalink to &quot;Server (lovable-ssr/server)&quot;">​</a></h2><p>Import from <code>lovable-ssr/server</code> so Node/Express are not bundled in the client.</p><table tabindex="0"><thead><tr><th>Export</th><th>Description</th></tr></thead><tbody><tr><td><code>createServer(config: CreateServerConfig)</code></td><td>Returns <code>Promise&lt;{ getApp(); listen(port?, callback?) }&gt;</code>.</td></tr><tr><td><code>runServer(config?)</code></td><td>Convenience: creates server and calls <code>listen</code> (uses <code>process.cwd()</code> and env if config omitted).</td></tr></tbody></table><h3 id="createserverconfig" tabindex="-1">CreateServerConfig <a class="header-anchor" href="#createserverconfig" aria-label="Permalink to &quot;CreateServerConfig&quot;">​</a></h3><table tabindex="0"><thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>root</code></td><td><code>string</code></td><td>Project root (where <code>index.html</code> and <code>dist/</code> live).</td></tr><tr><td><code>entryPath</code></td><td><code>string</code></td><td>Path to the app’s entry-server module relative to <code>root</code> (e.g. <code>src/ssr/entry-server.tsx</code>).</td></tr><tr><td><code>port</code></td><td><code>number?</code></td><td>Default port (default <code>5173</code>).</td></tr><tr><td><code>cssLinkInDev</code></td><td><code>string?</code></td><td>HTML snippet to inject before <code>&lt;/head&gt;</code> in dev (e.g. link to <code>/src/index.css</code>).</td></tr></tbody></table><p>Production entry path is derived from <code>entryPath</code> by replacing <code>src/</code> with <code>dist/</code> and the extension with <code>.js</code> (e.g. <code>dist/ssr/entry-server.js</code>).</p>',19)])])}const g=t(a,[["render",c]]);export{p as __pageData,g as default};
